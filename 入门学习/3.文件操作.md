### demo示例

NodeJS 提供了基本的文件操作API，但是像文件拷贝这种高级功能就没有提供，因此我们先拿文件拷贝程序练手。

我们的程序需要能接受**`源文件路径`**与**`目标文件路径`**两个参数。

#### 小文件拷贝

```js
const fs = require('fs')
/**
 * @param {*} src 源路径
 * @param {*} dst 目标路径
 */
function copy(src, dst) {
  fs.writeFileSync(dst, fs.readFileSync(src))
}

function main(argv) {
  copy(argv[0], argv[1])
}

main(process.argv.slice(2))
```



#### 大文件拷贝

一次性把所有文件内容都读取到内存中后再一次性写入磁盘的方式不适合拷贝大文件。

对于大文件，我们只能读一点写一点，直到完成拷贝。

```js
var fs = require('fs');

function copy(src, dst) {
  // 让 src 的内容一点点地读入 dst 中
  fs.createReadStream(src).pipe(fs.createWriteStream(dst))
}

function main(argv) {
  copy(argv[0], argv[1]);
}

main(process.argv.slice(2));
```



### API 走马观花







